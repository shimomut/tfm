<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1920 1080"
   width="1920"
   height="1080"
   version="1.1"
   id="svg134"
   sodipodi:docname="TFM_ARCHITECTURE.svg"
   inkscape:version="1.4.2 (ebf0e940, 2025-05-08)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview134"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.63482649"
     inkscape:cx="990.0343"
     inkscape:cy="487.53479"
     inkscape:window-width="1800"
     inkscape:window-height="1102"
     inkscape:window-x="0"
     inkscape:window-y="39"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg134" />
  <defs
     id="defs1">
    <style
       id="style1">
      .title { font: bold 28px sans-serif; fill: #2c3e50; }
      .subtitle { font: bold 17px sans-serif; fill: #34495e; }
      .label { font: 14px sans-serif; fill: #2c3e50; }
      .small-label { font: 12px sans-serif; fill: #555; }
      .box { fill: #ecf0f1; stroke: #34495e; stroke-width: 2; }
      .core-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .storage-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .ui-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .manager-box { fill: #f39c12; stroke: #d68910; stroke-width: 2; }
      .util-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .ttk-box { fill: #1abc9c; stroke: #16a085; stroke-width: 2; }
      .backend-box { fill: #95a5a6; stroke: #7f8c8d; stroke-width: 2; }
      .layer-box { fill: #e67e22; stroke: #d35400; stroke-width: 2; }
      .arrow { stroke: #7fb3d5; stroke-width: 2; fill: none; opacity: 0.5; }
      .white-text { fill: white; }
    </style>
  </defs>
  <!-- Title -->
  <text
     x="960"
     y="40"
     text-anchor="middle"
     class="title"
     id="text1">TFM (TUI File Manager) Architecture</text>
  <!-- Legend (top-right) -->
  <g
     id="g135"
     transform="translate(-39.380839,-7.8761679)">
    <g
       transform="translate(1520,60)"
       id="g10">
      <text
         x="0"
         y="0"
         class="small-label"
         id="text2"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Legend:</text>
      <!-- First row -->
      <rect
         x="0"
         y="8"
         width="45"
         height="16"
         class="core-box"
         id="rect2" />
      <text
         x="52"
         y="20"
         class="small-label"
         id="text3"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Core</text>
      <rect
         x="95"
         y="8"
         width="45"
         height="16"
         class="storage-box"
         id="rect3" />
      <text
         x="147"
         y="20"
         class="small-label"
         id="text4"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Storage</text>
      <rect
         x="200"
         y="8"
         width="45"
         height="16"
         class="ui-box"
         id="rect4" />
      <text
         x="252"
         y="20"
         class="small-label"
         id="text5"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">UI</text>
      <rect
         x="290"
         y="8"
         width="45"
         height="16"
         class="manager-box"
         id="rect5" />
      <text
         x="342"
         y="20"
         class="small-label"
         id="text6"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Managers</text>
      <!-- Second row -->
      <rect
         x="0"
         y="32"
         width="45"
         height="16"
         class="util-box"
         id="rect6" />
      <text
         x="52"
         y="44"
         class="small-label"
         id="text7"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Utils</text>
      <rect
         x="95"
         y="32"
         width="45"
         height="16"
         class="ttk-box"
         id="rect7" />
      <text
         x="147"
         y="44"
         class="small-label"
         id="text8"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">TTK</text>
      <rect
         x="200"
         y="32"
         width="45"
         height="16"
         class="backend-box"
         id="rect8" />
      <text
         x="252"
         y="44"
         class="small-label"
         id="text9"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Backend</text>
      <rect
         x="290"
         y="32"
         width="45"
         height="16"
         class="layer-box"
         id="rect9" />
      <text
         x="342"
         y="44"
         class="small-label"
         id="text10"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">UILayer</text>
    </g>
  </g>
  <!-- Main Application -->
  <g
     transform="translate(760, 120)"
     id="g13">
    <rect
       x="0"
       y="0"
       width="400"
       height="80"
       class="core-box"
       rx="5"
       id="rect10" />
    <text
       x="200"
       y="30"
       text-anchor="middle"
       class="subtitle white-text"
       id="text11">FileManager (tfm_main.py)</text>
    <text
       x="200"
       y="50"
       text-anchor="middle"
       class="small-label white-text"
       id="text12">Main application controller</text>
    <text
       x="200"
       y="68"
       text-anchor="middle"
       class="small-label white-text"
       id="text13">Event loop, coordination, rendering</text>
  </g>
  <!-- Managers Row 1 -->
  <g
     transform="translate(80,256)"
     id="g38">
    <text
       x="530"
       y="-10"
       text-anchor="middle"
       class="subtitle"
       id="text14"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Application Managers</text>
    <rect
       x="0"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect14" />
    <text
       x="102"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text15"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">PaneManager</text>
    <text
       x="102"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text16"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Dual pane navigation</text>
    <text
       x="102"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text17"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Cursor history</text>
    <text
       x="102"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text18"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Tab switching</text>
    <rect
       x="220"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect18" />
    <text
       x="322"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text19"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">FileOperations</text>
    <text
       x="322"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text20"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Copy, move, delete</text>
    <text
       x="322"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text21"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Selection, rename</text>
    <text
       x="322"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text22"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Threading</text>
    <rect
       x="440"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect22" />
    <text
       x="542"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text23"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">LogManager</text>
    <text
       x="542"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text24"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Unified logging</text>
    <text
       x="542"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text25"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Remote log</text>
    <text
       x="542"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text26"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Handlers</text>
    <rect
       x="660"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect26" />
    <text
       x="762"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text27"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">StateManager</text>
    <text
       x="762"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text28"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Persistence</text>
    <text
       x="762"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text29"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">History, config</text>
    <text
       x="762"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text30"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Geometry</text>
    <rect
       x="880"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect30" />
    <text
       x="982"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text31"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">ProgressManager</text>
    <text
       x="982"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text32"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Progress tracking</text>
    <text
       x="982"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text33"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Threading</text>
    <text
       x="982"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text34"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Cancellation</text>
    <rect
       x="1100"
       y="0"
       width="205"
       height="100"
       class="manager-box"
       rx="5"
       id="rect34" />
    <text
       x="1202"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text35"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">MenuManager</text>
    <text
       x="1202"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text36"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Desktop menus</text>
    <text
       x="1202"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text37"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Menu state</text>
    <text
       x="1202"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text38"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Enable/disable</text>
  </g>
  <!-- UILayerStack -->
  <g
     transform="translate(1468,302)"
     id="g43">
    <text
       x="150"
       y="-10"
       text-anchor="middle"
       class="subtitle"
       id="text39"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">UI Layer Management</text>
    <rect
       x="0"
       y="0"
       width="300"
       height="100"
       class="layer-box"
       rx="5"
       id="rect39" />
    <text
       x="150"
       y="25"
       text-anchor="middle"
       class="subtitle white-text"
       id="text40"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">UILayerStack</text>
    <text
       x="150"
       y="45"
       text-anchor="middle"
       class="small-label white-text"
       id="text41"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Stack-based UI management</text>
    <text
       x="150"
       y="62"
       text-anchor="middle"
       class="small-label white-text"
       id="text42"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Event routing to top layer</text>
    <text
       x="150"
       y="79"
       text-anchor="middle"
       class="small-label white-text"
       id="text43"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Optimized rendering</text>
  </g>
  <!-- UILayer Components -->
  <g
     transform="translate(151,442)"
     id="g74">
    <text
       x="720"
       y="-10"
       text-anchor="middle"
       class="subtitle"
       id="text44"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">UI Layer Components (UILayer implementations)</text>
    <rect
       x="0"
       y="0"
       width="155"
       height="75"
       class="layer-box"
       rx="5"
       id="rect44" />
    <text
       x="77"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text45"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">DiffViewer</text>
    <text
       x="77"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text46"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Side-by-side diff</text>
    <text
       x="77"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text47"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Syntax highlight</text>
    <rect
       x="165"
       y="0"
       width="155"
       height="75"
       class="layer-box"
       rx="5"
       id="rect47" />
    <text
       x="242"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text48"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">DirDiffViewer</text>
    <text
       x="242"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text49"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Tree comparison</text>
    <text
       x="242"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text50"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Progressive scan</text>
    <rect
       x="330"
       y="0"
       width="155"
       height="75"
       class="layer-box"
       rx="5"
       id="rect50" />
    <text
       x="407"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text51"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">TextViewer</text>
    <text
       x="407"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text52"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">File viewing</text>
    <text
       x="407"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text53"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Search</text>
    <rect
       x="495"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect53" />
    <text
       x="572"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text54"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">ListDialog</text>
    <text
       x="572"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text55"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Selection lists</text>
    <text
       x="572"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text56"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Favorites</text>
    <rect
       x="660"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect56" />
    <text
       x="737"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text57"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">SearchDialog</text>
    <text
       x="737"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text58"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">File search</text>
    <text
       x="737"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text59"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Threaded</text>
    <rect
       x="825"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect59" />
    <text
       x="902"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text60"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">InfoDialog</text>
    <text
       x="902"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text61"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">File metadata</text>
    <text
       x="902"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text62"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Storage info</text>
    <rect
       x="990"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect62" />
    <text
       x="1067"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text63"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">BatchRename</text>
    <text
       x="1067"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text64"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Bulk operations</text>
    <text
       x="1067"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text65"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Patterns</text>
    <rect
       x="1155"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect65" />
    <text
       x="1232"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text66"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">DrivesDialog</text>
    <text
       x="1232"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text67"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Drive navigation</text>
    <text
       x="1232"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text68"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Quick access</text>
    <rect
       x="1320"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect68" />
    <text
       x="1397"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text69"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">QuickChoiceBar</text>
    <text
       x="1397"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text70"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Status bar</text>
    <text
       x="1397"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text71"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Quick choices</text>
    <rect
       x="1485"
       y="0"
       width="155"
       height="75"
       class="ui-box"
       rx="5"
       id="rect71" />
    <text
       x="1562"
       y="28"
       text-anchor="middle"
       class="label white-text"
       id="text72"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">QuickEditBar</text>
    <text
       x="1562"
       y="46"
       text-anchor="middle"
       class="small-label white-text"
       id="text73"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Status bar</text>
    <text
       x="1562"
       y="63"
       text-anchor="middle"
       class="small-label white-text"
       id="text74"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Text input</text>
  </g>
  <!-- Storage Abstraction (Left) -->
  <!-- Utility Components (Middle) -->
  <!-- Rendering (Right) -->
  <g
     id="g136"
     transform="translate(6.3009343,97.664482)">
    <g
       transform="translate(80,495)"
       id="g94">
      <text
         x="325"
         y="-10"
         text-anchor="middle"
         class="subtitle"
         id="text75"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Storage Abstraction</text>
      <!-- Path Interface -->
      <rect
         x="0"
         y="0"
         width="650"
         height="90"
         class="storage-box"
         rx="5"
         id="rect75" />
      <text
         x="325"
         y="28"
         text-anchor="middle"
         class="subtitle white-text"
         id="text76"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Path (Polymorphic Interface)</text>
      <text
         x="325"
         y="48"
         text-anchor="middle"
         class="small-label white-text"
         id="text77"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">(tfm_path.py) - PathImpl ABC</text>
      <text
         x="325"
         y="65"
         text-anchor="middle"
         class="small-label white-text"
         id="text78"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Unified interface for all storage types - storage-agnostic operations</text>
      <!-- Storage Implementations -->
      <rect
         x="0"
         y="100"
         width="205"
         height="85"
         class="storage-box"
         rx="5"
         id="rect78" />
      <text
         x="102"
         y="125"
         text-anchor="middle"
         class="subtitle white-text"
         id="text79"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">LocalPathImpl</text>
      <text
         x="102"
         y="145"
         text-anchor="middle"
         class="small-label white-text"
         id="text80"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Local filesystem</text>
      <text
         x="102"
         y="162"
         text-anchor="middle"
         class="small-label white-text"
         id="text81"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">pathlib wrapper</text>
      <rect
         x="220"
         y="100"
         width="205"
         height="85"
         class="storage-box"
         rx="5"
         id="rect81" />
      <text
         x="322"
         y="125"
         text-anchor="middle"
         class="subtitle white-text"
         id="text82"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">S3PathImpl</text>
      <text
         x="322"
         y="145"
         text-anchor="middle"
         class="small-label white-text"
         id="text83"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">AWS S3 storage</text>
      <text
         x="322"
         y="162"
         text-anchor="middle"
         class="small-label white-text"
         id="text84"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">boto3 + caching</text>
      <rect
         x="445"
         y="100"
         width="205"
         height="85"
         class="storage-box"
         rx="5"
         id="rect84" />
      <text
         x="547"
         y="125"
         text-anchor="middle"
         class="subtitle white-text"
         id="text85"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">ArchivePathImpl</text>
      <text
         x="547"
         y="145"
         text-anchor="middle"
         class="small-label white-text"
         id="text86"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">ZIP, TAR browse</text>
      <text
         x="547"
         y="162"
         text-anchor="middle"
         class="small-label white-text"
         id="text87"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Virtual directories</text>
      <!-- Cache & Archive Support -->
      <text
         x="325"
         y="215"
         text-anchor="middle"
         class="subtitle"
         id="text88"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Cache &amp; Archive Support</text>
      <rect
         x="0"
         y="225"
         width="205"
         height="70"
         class="util-box"
         rx="5"
         id="rect88" />
      <text
         x="102"
         y="253"
         text-anchor="middle"
         class="subtitle white-text"
         id="text89"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">CacheManager</text>
      <text
         x="102"
         y="273"
         text-anchor="middle"
         class="small-label white-text"
         id="text90"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Multi-storage cache</text>
      <rect
         x="220"
         y="225"
         width="205"
         height="70"
         class="util-box"
         rx="5"
         id="rect90" />
      <text
         x="322"
         y="253"
         text-anchor="middle"
         class="subtitle white-text"
         id="text91"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">S3Cache</text>
      <text
         x="322"
         y="273"
         text-anchor="middle"
         class="small-label white-text"
         id="text92"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">TTL + invalidation</text>
      <rect
         x="445"
         y="225"
         width="205"
         height="70"
         class="storage-box"
         rx="5"
         id="rect92" />
      <text
         x="547"
         y="253"
         text-anchor="middle"
         class="subtitle white-text"
         id="text93"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">ArchiveOperations</text>
      <text
         x="547"
         y="273"
         text-anchor="middle"
         class="small-label white-text"
         id="text94"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Extract, create archives</text>
    </g>
    <g
       transform="translate(776,495)"
       id="g111">
      <text
         x="267"
         y="-10"
         text-anchor="middle"
         class="subtitle"
         id="text95"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Utility Components</text>
      <!-- First row -->
      <rect
         x="0"
         y="0"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect95" />
      <text
         x="85"
         y="28"
         text-anchor="middle"
         class="label white-text"
         id="text96"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">WideChar</text>
      <text
         x="85"
         y="46"
         text-anchor="middle"
         class="small-label white-text"
         id="text97"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Unicode display</text>
      <rect
         x="182"
         y="0"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect97" />
      <text
         x="267"
         y="28"
         text-anchor="middle"
         class="label white-text"
         id="text98"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">KeyBindings</text>
      <text
         x="267"
         y="46"
         text-anchor="middle"
         class="small-label white-text"
         id="text99"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Keyboard actions</text>
      <rect
         x="364"
         y="0"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect99" />
      <text
         x="449"
         y="28"
         text-anchor="middle"
         class="label white-text"
         id="text100"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Colors</text>
      <text
         x="449"
         y="46"
         text-anchor="middle"
         class="small-label white-text"
         id="text101"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Themes/schemes</text>
      <!-- Second row -->
      <rect
         x="0"
         y="77"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect101" />
      <text
         x="85"
         y="105"
         text-anchor="middle"
         class="label white-text"
         id="text102"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Config</text>
      <text
         x="85"
         y="123"
         text-anchor="middle"
         class="small-label white-text"
         id="text103"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">User settings</text>
      <rect
         x="182"
         y="77"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect103" />
      <text
         x="267"
         y="105"
         text-anchor="middle"
         class="label white-text"
         id="text104"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Scrollbar</text>
      <text
         x="267"
         y="123"
         text-anchor="middle"
         class="small-label white-text"
         id="text105"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Unified scrolling</text>
      <rect
         x="364"
         y="77"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect105" />
      <text
         x="449"
         y="105"
         text-anchor="middle"
         class="label white-text"
         id="text106"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">AdaptiveFPS</text>
      <text
         x="449"
         y="123"
         text-anchor="middle"
         class="small-label white-text"
         id="text107"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Performance</text>
      <!-- Third row -->
      <rect
         x="0"
         y="154"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect107" />
      <text
         x="85"
         y="182"
         text-anchor="middle"
         class="label white-text"
         id="text108"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">BackendSelector</text>
      <text
         x="85"
         y="200"
         text-anchor="middle"
         class="small-label white-text"
         id="text109"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">TTK selection</text>
      <rect
         x="182"
         y="154"
         width="170"
         height="65"
         class="util-box"
         rx="5"
         id="rect109" />
      <text
         x="267"
         y="182"
         text-anchor="middle"
         class="label white-text"
         id="text110"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">ExternalPrograms</text>
      <text
         x="267"
         y="200"
         text-anchor="middle"
         class="small-label white-text"
         id="text111"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Editor integration</text>
    </g>
    <g
       transform="translate(1356,495)"
       id="g121">
      <text
         x="225"
         y="-10"
         text-anchor="middle"
         class="subtitle"
         id="text112"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Rendering &amp; Input</text>
      <!-- TTK Library -->
      <rect
         x="0"
         y="0"
         width="450"
         height="90"
         class="ttk-box"
         rx="5"
         id="rect112" />
      <text
         x="225"
         y="28"
         text-anchor="middle"
         class="subtitle white-text"
         id="text113"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">TTK (Terminal Toolkit)</text>
      <text
         x="225"
         y="48"
         text-anchor="middle"
         class="small-label white-text"
         id="text114"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Standalone library (ttk/)</text>
      <text
         x="225"
         y="65"
         text-anchor="middle"
         class="small-label white-text"
         id="text115"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Renderer + input abstraction</text>
      <!-- TTK Backends -->
      <rect
         x="0"
         y="100"
         width="215"
         height="85"
         class="backend-box"
         rx="5"
         id="rect115" />
      <text
         x="107"
         y="125"
         text-anchor="middle"
         class="subtitle white-text"
         id="text116"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">Curses</text>
      <text
         x="107"
         y="145"
         text-anchor="middle"
         class="small-label white-text"
         id="text117"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Default</text>
      <text
         x="107"
         y="162"
         text-anchor="middle"
         class="small-label white-text"
         id="text118"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Cross-platform</text>
      <rect
         x="235"
         y="100"
         width="215"
         height="85"
         class="backend-box"
         rx="5"
         id="rect118" />
      <text
         x="342"
         y="125"
         text-anchor="middle"
         class="subtitle white-text"
         id="text119"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">CoreGraphics</text>
      <text
         x="342"
         y="145"
         text-anchor="middle"
         class="small-label white-text"
         id="text120"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">macOS native</text>
      <text
         x="342"
         y="162"
         text-anchor="middle"
         class="small-label white-text"
         id="text121"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">GPU rendering</text>
    </g>
  </g>
  <!-- External Systems -->
  <g
     transform="translate(512,970)"
     id="g134">
    <text
       x="500"
       y="-10"
       text-anchor="middle"
       class="subtitle"
       id="text122"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:17px;line-height:normal;font-family:sans-serif">External Systems</text>
    <rect
       x="0"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect122" />
    <text
       x="75"
       y="30"
       text-anchor="middle"
       class="label"
       id="text123"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">AWS S3</text>
    <text
       x="75"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text124"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Cloud storage</text>
    <rect
       x="165"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect124" />
    <text
       x="240"
       y="30"
       text-anchor="middle"
       class="label"
       id="text125"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Local FS</text>
    <text
       x="240"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text126"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">File system</text>
    <rect
       x="330"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect126" />
    <text
       x="405"
       y="30"
       text-anchor="middle"
       class="label"
       id="text127"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Archives</text>
    <text
       x="405"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text128"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">ZIP, TAR</text>
    <rect
       x="495"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect128" />
    <text
       x="570"
       y="30"
       text-anchor="middle"
       class="label"
       id="text129"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Terminal</text>
    <text
       x="570"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text130"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Display</text>
    <rect
       x="660"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect130" />
    <text
       x="735"
       y="30"
       text-anchor="middle"
       class="label"
       id="text131"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">External Tools</text>
    <text
       x="735"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text132"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">Editors, viewers</text>
    <rect
       x="825"
       y="0"
       width="150"
       height="55"
       class="box"
       rx="5"
       id="rect132" />
    <text
       x="900"
       y="30"
       text-anchor="middle"
       class="label"
       id="text133"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:normal;font-family:sans-serif">Config Files</text>
    <text
       x="900"
       y="47"
       text-anchor="middle"
       class="small-label"
       id="text134"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:sans-serif">~/.tfm/</text>
  </g>
</svg>
