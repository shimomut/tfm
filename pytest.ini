[pytest]
# Run tests with timeout and process isolation
timeout = 10
timeout_method = thread

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output options and xdist settings
# -n 1 = one worker process (isolated but sequential, works with PyObjC)
# -n auto = parallel across all CPU cores (faster but may have issues)
addopts = 
    -n 1
    -v
    --tb=short
    --strict-markers

# Markers for categorizing tests
markers =
    gui: Tests that create GUI windows (may need display)
    slow: Tests that take a long time to run
    integration: Integration tests
    unit: Unit tests
    requires_s3: Tests that require S3 access
    requires_cpp: Tests that require C++ extensions

# Ignore patterns
norecursedirs = .git .venv __pycache__ dist build *.egg-info .pytest_cache .hypothesis

# Warning filters
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
